{% extends 'base.html' %}

{% block main %}
    {% load debug_tags %}
    {% if msg %}
        <p>{{ msg }}</p>
    {% endif %}
    {% for post in post_list %}
        {#        {% print object_list %}#}
        <article class="post post-{{ post.pk }}">
            <header class="entry-header">
                <h1 class="entry-title">
                    <a href="{% url 'blog:post_detail' post.pk %}">{{ post.title }}</a>
                </h1>
                <div class="entry-meta">
                    <span class="post-category"><a href="#">{{ post.category }}</a></span>
                    <span class="post-date"><a href="#"><time class="entry-date"
                    >{{ post.modified_time }}</time></a></span>
                    <span class="post-author"><a href="#">{{ post.author }}</a></span>
                    <span class="comments-link"><a href="#">{{ post.comment_set.count }} 评论</a></span>
                    <span class="views-count"><a href="#">{{ post.views }} 阅读</a></span>
                </div>
            </header>
            <div class="entry-content clearfix">
                <p>{{ post.excerpt }}</p>
                {#                        <p>{{ post.content|truncatechars:30 }}...</p>#}
                <div class="read-more cl-effect-14">
                    <a href="{% url 'blog:post_detail' post.pk %}" class="more-link">继续阅读 <span
                            class="meta-nav">→</span></a>
                </div>
            </div>
        </article>

    {% endfor %}

{##}
{#    {% if is_paginated %}#}
{#        <div class="pagination">#}
{#            <span class="step-links">#}
{#                {% if page_obj.has_previous %}#}
{#                    <a href="?page={{ page_obj.previous_page_number }}">上一页</a>#}
{#                {% endif %}#}
{#                {% for i in page_range %}#}
{#                    {% if page_obj.number == i %}#}
{#                        <a style="color:red;font-size:26px;padding: 5px" href="?page={{ i }}">{{ i }}</a>#}
{#                    {% else %}#}
{#                        <a style="padding: 5px" href="?page={{ i }}">{{ i }}</a>#}
{#                    {% endif %}#}
{#                {% endfor %}#}
{#                {% if page_obj.has_next %}#}
{#                    <a href="?page={{ page_obj.next_page_number }}">下一页</a>#}
{#                {% endif %}#}
{#            </span>#}
{#        </div>#}
{#    {% endif %}#}
{##}


{#{% if is_paginated %}#}
{#    <nav aria-label="Page navigation">#}
{#        <ul class="pagination">#}
{#        {% if page_obj.has_previous %}#}
{#            <li>#}
{#                <a href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">#}
{#                    <span aria-hidden="true">&laquo;</span>#}
{#                </a>#}
{#            </li>#}
{#        {% endif %}#}
{#        {% if page_obj.number == 1 %}#}
{#            <li class="disabled" aria-label="Previous"><span#}
{#                            aria-hidden="true">&laquo;</span></li>#}
{#            {% endif %}#}
{#             {% for i in page_range %}#}
{##}
{#                    {% if page_obj.number == i %}#}
{#                        <li class="active"><a href="?page={{ i }}">{{ i }} <span class="sr-only">{{ i }}</span></a></li>#}
{#                    {% else %}#}
{#                        <li><a href="?page={{ i }}">{{ i }}<span class="sr-only">{{ i }}</span></a></li>#}
{#                    {% endif %}#}
{#                {% endfor %}#}
{#         {% if page_obj.has_next %}#}
{#            <li>#}
{#                <a href="?page={{ page_obj.next_page_number }}" aria-label="Next">#}
{#                    <span aria-hidden="true">&raquo;</span>#}
{#                </a>#}
{#            </li>#}
{#         {% endif %}#}
{#         {% if page_obj.number == paginator.num_pages %}#}
{#            <li class="disabled" aria-label="Previous"><span#}
{#                            aria-hidden="true">&raquo;</span></li>#}
{#            {% endif %}#}
{##}
{#        <form>#}
{#                    {% csrf_token %}#}
{#                    <div class="row">#}
{#                        <div class="col-lg-6">#}
{#                            <div class="input-group">#}
{#                                <input type="text" class="form-control" name="page" placeholder="Search for...">#}
{#                                <span class="input-group-btn">#}
{#        <button class="btn btn-default" type="submit">Go!</button>#}
{#      </span>#}
{#                            </div><!-- /input-group -->#}
{#                        </div><!-- /.col-lg-6 -->#}
{#                    </div><!-- /.row -->#}
{#                </form>#}
{##}
{#        </ul>#}
{#    </nav>#}
{#{% endif %}#}

{% include 'snippet/paginator.html' %}

{% endblock %}